import{P as ke,Q as Ne,U as Ve,W as se,X as Me,Y as ie,Z as re,_ as oe,$ as _e,a0 as je,a1 as Re,j as ae,N as De,B as Ke}from"./index-DzJl3zh7.js";import{u as Xe}from"./index-D8HMwPol.js";function We(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const be="2.21.7";let C={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:be};class d extends Error{constructor(t,n={}){var a;const s=(()=>{var u;return n.cause instanceof d?n.cause.details:(u=n.cause)!=null&&u.message?n.cause.message:n.details})(),i=n.cause instanceof d&&n.cause.docsPath||n.docsPath,r=(a=C.getDocsUrl)==null?void 0:a.call(C,{...n,docsPath:i}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...r?[`Docs: ${r}`]:[],...s?[`Details: ${s}`]:[],`Version: ${C.version}`].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=s,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=be}walk(t){return ge(this,t)}}function ge(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e?ge(e.cause,t):t?null:e}class Ye extends d{constructor({max:t,min:n,signed:s,size:i,value:r}){super(`Number "${r}" is not in safe ${i?`${i*8}-bit ${s?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class qe extends d{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function A(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function v(e){return A(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function k(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,s=0;for(let i=0;i<n.length-1&&n[t==="left"?i:n.length-i-1].toString()==="0";i++)s++;return n=t==="left"?n.slice(s):n.slice(0,n.length-s),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}class Qe extends d{constructor({offset:t,position:n,size:s}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${s}).`,{name:"SliceOffsetOutOfBoundsError"})}}class xe extends d{constructor({size:t,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function z(e,{dir:t,size:n=32}={}){return typeof e=="string"?Ze(e,{dir:t,size:n}):Je(e,{dir:t,size:n})}function Ze(e,{dir:t,size:n=32}={}){if(n===null)return e;const s=e.replace("0x","");if(s.length>n*2)throw new xe({size:Math.ceil(s.length/2),targetSize:n,type:"hex"});return`0x${s[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Je(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new xe({size:e.length,targetSize:n,type:"bytes"});const s=new Uint8Array(n);for(let i=0;i<n;i++){const r=t==="right";s[r?i:n-i-1]=e[r?i:e.length-i-1]}return s}const et=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function c(e,t={}){return typeof e=="number"||typeof e=="bigint"?ye(e,t):typeof e=="string"?st(e,t):typeof e=="boolean"?tt(e,t):g(e,t)}function tt(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?($(n,{size:t.size}),z(n,{size:t.size})):n}function g(e,t={}){let n="";for(let i=0;i<e.length;i++)n+=et[e[i]];const s=`0x${n}`;return typeof t.size=="number"?($(s,{size:t.size}),z(s,{dir:"right",size:t.size})):s}function ye(e,t={}){const{signed:n,size:s}=t,i=BigInt(e);let r;s?n?r=(1n<<BigInt(s)*8n-1n)-1n:r=2n**(BigInt(s)*8n)-1n:typeof e=="number"&&(r=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof r=="bigint"&&n?-r-1n:0;if(r&&i>r||i<o){const u=typeof e=="bigint"?"n":"";throw new Ye({max:r?`${r}${u}`:void 0,min:`${o}${u}`,signed:n,size:s,value:`${e}${u}`})}const a=`0x${(n&&i<0?(1n<<BigInt(s*8))+BigInt(i):i).toString(16)}`;return s?z(a,{size:s}):a}const nt=new TextEncoder;function st(e,t={}){const n=nt.encode(e);return g(n,t)}const it=new TextEncoder;function Pe(e,t={}){return typeof e=="number"||typeof e=="bigint"?ot(e,t):typeof e=="boolean"?rt(e,t):A(e)?y(e,t):we(e,t)}function rt(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?($(n,{size:t.size}),z(n,{size:t.size})):n}const b={zero:48,nine:57,A:65,F:70,a:97,f:102};function ue(e){if(e>=b.zero&&e<=b.nine)return e-b.zero;if(e>=b.A&&e<=b.F)return e-(b.A-10);if(e>=b.a&&e<=b.f)return e-(b.a-10)}function y(e,t={}){let n=e;t.size&&($(n,{size:t.size}),n=z(n,{dir:"right",size:t.size}));let s=n.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,r=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const u=ue(s.charCodeAt(a++)),f=ue(s.charCodeAt(a++));if(u===void 0||f===void 0)throw new d(`Invalid byte sequence ("${s[a-2]}${s[a-1]}" in "${s}").`);r[o]=u*16+f}return r}function ot(e,t){const n=ye(e,t);return y(n)}function we(e,t={}){const n=it.encode(e);return typeof t.size=="number"?($(n,{size:t.size}),z(n,{dir:"right",size:t.size})):n}function $(e,{size:t}){if(v(e)>t)throw new qe({givenSize:v(e),maxSize:t})}function B(e,t={}){const{signed:n}=t;t.size&&$(e,{size:t.size});const s=BigInt(e);if(!n)return s;const i=(e.length-2)/2,r=(1n<<BigInt(i)*8n-1n)-1n;return s<=r?s:s-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function N(e,t={}){return Number(B(e,t))}function K(e,t){return({exclude:n,format:s})=>({exclude:n,format:i=>{const r=t(i);if(n)for(const o of n)delete r[o];return{...r,...s(i)}},type:e})}const Ie={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function X(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?N(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?N(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Ie[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=ut(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}const at=K("transaction",X);function ut(e){return e.map(t=>({contractAddress:t.address,r:t.r,s:t.s,chainId:Number(t.chainId),nonce:Number(t.nonce),...typeof t.yParity<"u"?{yParity:Number(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:Number(t.v)}:{}}))}function ct(e){var n;const t=(n=e.transactions)==null?void 0:n.map(s=>typeof s=="string"?s:X(s));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const ft=K("block",ct);function dt(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}const lt={"0x0":"reverted","0x1":"success"};function ht(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>dt(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?N(e.transactionIndex):null,status:e.status?lt[e.status]:null,type:e.type?Ie[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const pt=K("transactionReceipt",ht),W=2n**256n-1n;function G(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}class ce extends d{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class mt extends d{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class bt extends d{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const gt={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new bt({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new mt({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new ce({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new ce({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Be(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(gt);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function P(e,t="hex"){const n=ve(e),s=Be(new Uint8Array(n.length));return n.encode(s),t==="hex"?g(s.bytes):s.bytes}function ve(e){return Array.isArray(e)?xt(e.map(t=>ve(t))):yt(e)}function xt(e){const t=e.reduce((i,r)=>i+r.length,0),n=ze(t);return{length:t<=55?1+t:1+n+t,encode(i){t<=55?i.pushByte(192+t):(i.pushByte(247+n),n===1?i.pushUint8(t):n===2?i.pushUint16(t):n===3?i.pushUint24(t):i.pushUint32(t));for(const{encode:r}of e)r(i)}}}function yt(e){const t=typeof e=="string"?y(e):e,n=ze(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(i){t.length===1&&t[0]<128?i.pushBytes(t):t.length<=55?(i.pushByte(128+t.length),i.pushBytes(t)):(i.pushByte(183+n),n===1?i.pushUint8(t.length):n===2?i.pushUint16(t.length):n===3?i.pushUint24(t.length):i.pushUint32(t.length),i.pushBytes(t))}}}function ze(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new d("Length is too large.")}const Pt={ether:-9,wei:9};function wt(e,t){let n=e.toString();const s=n.startsWith("-");s&&(n=n.slice(1)),n=n.padStart(t,"0");let[i,r]=[n.slice(0,n.length-t),n.slice(n.length-t)];return r=r.replace(/(0+)$/,""),`${s?"-":""}${i||"0"}${r?`.${r}`:""}`}function D(e,t="wei"){return wt(e,Pt[t])}function It(e){const t=Object.entries(e).map(([s,i])=>i===void 0||i===!1?null:[s,i]).filter(Boolean),n=t.reduce((s,[i])=>Math.max(s,i.length),0);return t.map(([s,i])=>`  ${`${s}:`.padEnd(n+1)}  ${i}`).join(`
`)}class Bt extends d{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class vt extends d{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",It(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class zt extends d{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}function $e(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),s=typeof e.blobs[0]=="string"?e.blobs.map(r=>y(r)):e.blobs,i=[];for(const r of s)i.push(Uint8Array.from(t.blobToKzgCommitment(r)));return n==="bytes"?i:i.map(r=>g(r))}function Ee(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),s=typeof e.blobs[0]=="string"?e.blobs.map(o=>y(o)):e.blobs,i=typeof e.commitments[0]=="string"?e.commitments.map(o=>y(o)):e.commitments,r=[];for(let o=0;o<s.length;o++){const a=s[o],u=i[o];r.push(Uint8Array.from(t.computeBlobKzgProof(a,u)))}return n==="bytes"?r:r.map(o=>g(o))}function $t(e,t){return ke(A(e,{strict:!1})?Pe(e):e)}function Et(e){const{commitment:t,version:n=1}=e,s=e.to??(typeof t=="string"?"hex":"bytes"),i=$t(t);return i.set([n],0),s==="bytes"?i:g(i)}function Tt(e){const{commitments:t,version:n}=e,s=e.to??(typeof t[0]=="string"?"hex":"bytes"),i=[];for(const r of t)i.push(Et({commitment:r,to:s,version:n}));return i}const fe=6,Te=32,Y=4096,Ue=Te*Y,de=Ue*fe-1-1*Y*fe,Le=1;class Ut extends d{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Ae extends d{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Lt extends d{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class At extends d{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Le}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function Gt(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?y(e.data):e.data,s=v(n);if(!s)throw new Ae;if(s>de)throw new Ut({maxSize:de,size:s});const i=[];let r=!0,o=0;for(;r;){const a=Be(new Uint8Array(Ue));let u=0;for(;u<Y;){const f=n.slice(o,o+(Te-1));if(a.pushByte(0),a.pushBytes(f),f.length<31){a.pushByte(128),r=!1;break}u++,o+=31}i.push(a)}return t==="bytes"?i.map(a=>a.bytes):i.map(a=>g(a.bytes))}function Ft(e){const{data:t,kzg:n,to:s}=e,i=e.blobs??Gt({data:t,to:s}),r=e.commitments??$e({blobs:i,kzg:n,to:s}),o=e.proofs??Ee({blobs:i,commitments:r,kzg:n,to:s}),a=[];for(let u=0;u<i.length;u++)a.push({blob:i[u],commitment:r[u],proof:o[u]});return a}function St(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{contractAddress:s,chainId:i,nonce:r,...o}=n;t.push([c(i),s,r?c(r):"0x",...F({},o)])}return t}class w extends d{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class V extends d{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}class M extends d{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${D(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(M,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Ge extends d{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:s}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${D(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${s?` = ${D(s)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Ge,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Fe extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}}const H=BigInt(2**32-1),le=BigInt(32);function Ct(e,t=!1){return t?{h:Number(e&H),l:Number(e>>le&H)}:{h:Number(e>>le&H)|0,l:Number(e&H)|0}}function Ht(e,t=!1){let n=new Uint32Array(e.length),s=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:r,l:o}=Ct(e[i],t);[n[i],s[i]]=[r,o]}return[n,s]}const Ot=(e,t,n)=>e<<n|t>>>32-n,kt=(e,t,n)=>t<<n|e>>>32-n,Nt=(e,t,n)=>t<<n-32|e>>>64-n,Vt=(e,t,n)=>e<<n-32|t>>>64-n,Se=[],Ce=[],He=[],Mt=BigInt(0),U=BigInt(1),_t=BigInt(2),jt=BigInt(7),Rt=BigInt(256),Dt=BigInt(113);for(let e=0,t=U,n=1,s=0;e<24;e++){[n,s]=[s,(2*n+3*s)%5],Se.push(2*(5*s+n)),Ce.push((e+1)*(e+2)/2%64);let i=Mt;for(let r=0;r<7;r++)t=(t<<U^(t>>jt)*Dt)%Rt,t&_t&&(i^=U<<(U<<BigInt(r))-U);He.push(i)}const[Kt,Xt]=Ht(He,!0),he=(e,t,n)=>n>32?Nt(e,t,n):Ot(e,t,n),pe=(e,t,n)=>n>32?Vt(e,t,n):kt(e,t,n);function Wt(e,t=24){const n=new Uint32Array(10);for(let s=24-t;s<24;s++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,u=(o+2)%10,f=n[u],l=n[u+1],m=he(f,l,1)^n[a],p=pe(f,l,1)^n[a+1];for(let h=0;h<50;h+=10)e[o+h]^=m,e[o+h+1]^=p}let i=e[2],r=e[3];for(let o=0;o<24;o++){const a=Ce[o],u=he(i,r,a),f=pe(i,r,a),l=Se[o];i=e[l],r=e[l+1],e[l]=u,e[l+1]=f}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=Kt[s],e[1]^=Xt[s]}n.fill(0)}class q extends Ve{constructor(t,n,s,i=!1,r=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=s,this.enableXOF=i,this.rounds=r,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,se(s),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Me(this.state)}keccak(){ie||re(this.state32),Wt(this.state32,this.rounds),ie||re(this.state32),this.posOut=0,this.pos=0}update(t){oe(this);const{blockLen:n,state:s}=this;t=_e(t);const i=t.length;for(let r=0;r<i;){const o=Math.min(n-this.pos,i-r);for(let a=0;a<o;a++)s[this.pos++]^=t[r++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:s,blockLen:i}=this;t[s]^=n,n&128&&s===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){oe(this,!1),je(t),this.finish();const n=this.state,{blockLen:s}=this;for(let i=0,r=t.length;i<r;){this.posOut>=s&&this.keccak();const o=Math.min(s-this.posOut,r-i);t.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return se(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Re(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:s,outputLen:i,rounds:r,enableXOF:o}=this;return t||(t=new q(n,s,i,o,r)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=r,t.suffix=s,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Yt=(e,t,n)=>Ne(()=>new q(t,e,n)),qt=Yt(1,136,256/8);function Qt(e,t){return qt(A(e,{strict:!1})?Pe(e):e)}const j=new Fe(8192);function Zt(e,t){if(j.has(`${e}.${t}`))return j.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),s=Qt(we(n)),i=n.split("");for(let o=0;o<40;o+=2)s[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(s[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const r=`0x${i.join("")}`;return j.set(`${e}.${t}`,r),r}const Jt=/^0x[a-fA-F0-9]{40}$/,R=new Fe(8192);function I(e,t){const{strict:n=!0}=t??{},s=`${e}.${n}`;if(R.has(s))return R.get(s);const i=Jt.test(e)?e.toLowerCase()===e?!0:n?Zt(e)===e:!0:!1;return R.set(s,i),i}function en(e,t,n,{strict:s}={}){return A(e,{strict:!1})?nn(e,t,n,{strict:s}):tn(e,t,n,{strict:s})}function Oe(e,t,n){if(v(e)!==n-t)throw new Qe({offset:n,position:"end",size:v(e)})}function tn(e,t,n,{strict:s}={}){const i=e.slice(t,n);return s&&Oe(i,t,n),i}function nn(e,t,n,{strict:s}={}){const i=`0x${e.replace("0x","").slice(t*2,n*2)}`;return s&&Oe(i,t,n),i}function sn(e){const{authorizationList:t}=e;if(t)for(const n of t){const{contractAddress:s,chainId:i}=n;if(!I(s))throw new w({address:s});if(i<=0)throw new V({chainId:i})}Q(e)}function rn(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Ae;for(const n of t){const s=v(n),i=N(en(n,0,1));if(s!==32)throw new Lt({hash:n,size:s});if(i!==Le)throw new At({hash:n,version:i})}}Q(e)}function Q(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:s,to:i}=e;if(t<=0)throw new V({chainId:t});if(i&&!I(i))throw new w({address:i});if(s&&s>W)throw new M({maxFeePerGas:s});if(n&&s&&n>s)throw new Ge({maxFeePerGas:s,maxPriorityFeePerGas:n})}function on(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:s,maxFeePerGas:i,to:r}=e;if(t<=0)throw new V({chainId:t});if(r&&!I(r))throw new w({address:r});if(n||i)throw new d("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(s&&s>W)throw new M({maxFeePerGas:s})}function an(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:s,maxFeePerGas:i,to:r}=e;if(r&&!I(r))throw new w({address:r});if(typeof t<"u"&&t<=0)throw new V({chainId:t});if(n||i)throw new d("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(s&&s>W)throw new M({maxFeePerGas:s})}function un(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new vt({transaction:e})}function _(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:s,storageKeys:i}=e[n];for(let r=0;r<i.length;r++)if(i[r].length-2!==64)throw new zt({storageKey:i[r]});if(!I(s,{strict:!1}))throw new w({address:s});t.push([s,i])}return t}function cn(e,t){const n=un(e);return n==="eip1559"?ln(e,t):n==="eip2930"?hn(e,t):n==="eip4844"?dn(e,t):n==="eip7702"?fn(e,t):pn(e,t)}function fn(e,t){const{authorizationList:n,chainId:s,gas:i,nonce:r,to:o,value:a,maxFeePerGas:u,maxPriorityFeePerGas:f,accessList:l,data:m}=e;sn(e);const p=_(l),h=St(n);return G(["0x04",P([c(s),r?c(r):"0x",f?c(f):"0x",u?c(u):"0x",i?c(i):"0x",o??"0x",a?c(a):"0x",m??"0x",p,h,...F(e,t)])])}function dn(e,t){const{chainId:n,gas:s,nonce:i,to:r,value:o,maxFeePerBlobGas:a,maxFeePerGas:u,maxPriorityFeePerGas:f,accessList:l,data:m}=e;rn(e);let p=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof p>"u"||typeof h>"u")){const x=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(T=>g(T)),S=e.kzg,E=$e({blobs:x,kzg:S});if(typeof p>"u"&&(p=Tt({commitments:E})),typeof h>"u"){const T=Ee({blobs:x,commitments:E,kzg:S});h=Ft({blobs:x,commitments:E,proofs:T})}}const Z=_(l),J=[c(n),i?c(i):"0x",f?c(f):"0x",u?c(u):"0x",s?c(s):"0x",r??"0x",o?c(o):"0x",m??"0x",Z,a?c(a):"0x",p??[],...F(e,t)],ee=[],te=[],ne=[];if(h)for(let x=0;x<h.length;x++){const{blob:S,commitment:E,proof:T}=h[x];ee.push(S),te.push(E),ne.push(T)}return G(["0x03",P(h?[J,ee,te,ne]:J)])}function ln(e,t){const{chainId:n,gas:s,nonce:i,to:r,value:o,maxFeePerGas:a,maxPriorityFeePerGas:u,accessList:f,data:l}=e;Q(e);const m=_(f),p=[c(n),i?c(i):"0x",u?c(u):"0x",a?c(a):"0x",s?c(s):"0x",r??"0x",o?c(o):"0x",l??"0x",m,...F(e,t)];return G(["0x02",P(p)])}function hn(e,t){const{chainId:n,gas:s,data:i,nonce:r,to:o,value:a,accessList:u,gasPrice:f}=e;on(e);const l=_(u),m=[c(n),r?c(r):"0x",f?c(f):"0x",s?c(s):"0x",o??"0x",a?c(a):"0x",i??"0x",l,...F(e,t)];return G(["0x01",P(m)])}function pn(e,t){const{chainId:n=0,gas:s,data:i,nonce:r,to:o,value:a,gasPrice:u}=e;an(e);let f=[r?c(r):"0x",u?c(u):"0x",s?c(s):"0x",o??"0x",a?c(a):"0x",i??"0x"];if(t){const l=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const h=27n+(t.v===27n?0n:1n);if(t.v!==h)throw new Bt({v:t.v});return h})(),m=k(t.r),p=k(t.s);f=[...f,c(l),m==="0x00"?"0x":m,p==="0x00"?"0x":p]}else n>0&&(f=[...f,c(n),"0x","0x"]);return P(f)}function F(e,t){const n=t??e,{v:s,yParity:i}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof s>"u"&&typeof i>"u")return[];const r=k(n.r),o=k(n.s);return[typeof i=="number"?i?c(1):"0x":s===0n?"0x":s===1n?c(1):s===27n?"0x":c(1),r==="0x00"?"0x":r,o==="0x00"?"0x":o]}const mn={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},bn={block:ft({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(s=>{if(typeof s=="string")return s;const i=X(s);return i.typeHex==="0x7e"&&(i.isSystemTx=s.isSystemTx,i.mint=s.mint?B(s.mint):void 0,i.sourceHash=s.sourceHash,i.type="deposit"),i}),stateRoot:e.stateRoot}}}),transaction:at({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?B(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:pt({format(e){return{l1GasPrice:e.l1GasPrice?B(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?B(e.l1GasUsed):null,l1Fee:e.l1Fee?B(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function gn(e,t){return Pn(e)?yn(e):cn(e,t)}const xn={transaction:gn};function yn(e){wn(e);const{sourceHash:t,data:n,from:s,gas:i,isSystemTx:r,mint:o,to:a,value:u}=e,f=[t,s,a??"0x",o?c(o):"0x",u?c(u):"0x",i?c(i):"0x",r?"0x1":"0x",n??"0x"];return G(["0x7e",P(f)])}function Pn(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function wn(e){const{from:t,to:n}=e;if(t&&!I(t))throw new w({address:t});if(n&&!I(n))throw new w({address:n})}const me={contracts:mn,formatters:bn,serializers:xn},O=1,L=We({...me,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...me.contracts,l2OutputOracle:{[O]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[O]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[O]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:O}),vn=()=>{const{isMutating:e,trigger:t}=Xe("addChain",async()=>{var n,s;await((s=(n=window.ethereum)==null?void 0:n.request)==null?void 0:s.call(n,{method:"wallet_addEthereumChain",params:[{chainId:`0x${L.id.toString(16)}`,chainName:L.name,nativeCurrency:L.nativeCurrency,rpcUrls:[L.rpcUrls.default.http[0]],blockExplorerUrls:[L.blockExplorers.default.url]}]}))});return ae.jsx(De,{children:ae.jsx(Ke,{loading:e,onClick:t,children:"Add Chain"})})};export{vn as A};
