import{u as r,j as s}from"./index-DzJl3zh7.js";import{E as n}from"./EndOfFile-DBOaNciS.js";const c={authors:["[ccforeverd](mailto:zh1045456074@163.com)"],date:"2024-07-26",title:"优化三目",description:"记录一个优化三目表达式的技巧"};function l(e){const i={a:"a",code:"code",div:"div",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",span:"span",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...r(),...e.components};return s.jsxs(s.Fragment,{children:[s.jsxs(i.header,{children:[s.jsxs(i.h1,{id:"优化三目",children:["优化三目",s.jsx(i.a,{"aria-hidden":"true",tabIndex:"-1",href:"#优化三目",children:s.jsx(i.div,{"data-autolink-icon":!0})})]}),s.jsx(i.div,{"data-authors":!0})]}),`
`,s.jsx(i.div,{}),`
`,s.jsx(i.p,{children:"偶遇一则三目表达式:"}),`
`,s.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0","data-title":"typescript","data-lang":"ts",children:s.jsxs(i.code,{"data-line-numbers":!0,children:[s.jsxs(i.span,{className:"line",children:[s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"const"}),s.jsx(i.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" transition"}),s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" ="}),s.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" isMenusActiveLTR"})]}),`
`,s.jsxs(i.span,{className:"line",children:[s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"  ?"}),s.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" active"})]}),`
`,s.jsxs(i.span,{className:"line",children:[s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    ?"}),s.jsx(i.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" 'slide-left'"})]}),`
`,s.jsxs(i.span,{className:"line",children:[s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    :"}),s.jsx(i.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" 'slide-right'"})]}),`
`,s.jsxs(i.span,{className:"line",children:[s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"  :"}),s.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" active"})]}),`
`,s.jsxs(i.span,{className:"line",children:[s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    ?"}),s.jsx(i.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" 'slide-right'"})]}),`
`,s.jsxs(i.span,{className:"line",children:[s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    :"}),s.jsx(i.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" 'slide-left'"})]})]})}),`
`,s.jsx(i.p,{children:"Emm... 有点难懂, 表达意思大概是:"}),`
`,s.jsxs(i.ul,{children:[`
`,s.jsxs(i.li,{children:[s.jsx(i.code,{children:"当前是从左向右的菜单切换"})," 并且 ",s.jsx(i.code,{children:"切换到当前项"}),", 使用 ",s.jsx(i.code,{children:"slide-left"})]}),`
`,s.jsxs(i.li,{children:[s.jsx(i.code,{children:"当前是从左向右的菜单切换"})," 并且 ",s.jsx(i.code,{children:"非当前项"}),", 使用 ",s.jsx(i.code,{children:"slide-right"})]}),`
`,s.jsxs(i.li,{children:[s.jsx(i.code,{children:"当前是从右向左的菜单切换"})," 并且 ",s.jsx(i.code,{children:"切换到当前项"}),", 使用 ",s.jsx(i.code,{children:"slide-right"})]}),`
`,s.jsxs(i.li,{children:[s.jsx(i.code,{children:"当前是从右向左的菜单切换"})," 并且 ",s.jsx(i.code,{children:"非当前项"}),", 使用 ",s.jsx(i.code,{children:"slide-right"})]}),`
`]}),`
`,s.jsx(i.p,{children:"有点绕了..."}),`
`,s.jsxs(i.p,{children:["观察表达式, 二级判断都是 ",s.jsx(i.code,{children:"active"}),", 这样简单做一下转换, 即三目中为 ",s.jsx(i.code,{children:"true"})," 的加 ",s.jsx(i.code,{children:"1"}),", 否则不变, 则转换为:"]}),`
`,s.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0","data-title":"typescript","data-lang":"ts",children:s.jsxs(i.code,{"data-line-numbers":!0,children:[s.jsxs(i.span,{className:"line",children:[s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"const"}),s.jsx(i.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" transition"}),s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" ="}),s.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" isMenusActiveLTR"})]}),`
`,s.jsxs(i.span,{className:"line",children:[s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"  ?"}),s.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" active"})]}),`
`,s.jsxs(i.span,{className:"line",children:[s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    ?"}),s.jsx(i.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" 'slide-left'"}),s.jsx(i.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:" // 2"})]}),`
`,s.jsxs(i.span,{className:"line",children:[s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    :"}),s.jsx(i.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" 'slide-right'"}),s.jsx(i.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:" // 1"})]}),`
`,s.jsxs(i.span,{className:"line",children:[s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"  :"}),s.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" active"})]}),`
`,s.jsxs(i.span,{className:"line",children:[s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    ?"}),s.jsx(i.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" 'slide-right'"}),s.jsx(i.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:" // 1"})]}),`
`,s.jsxs(i.span,{className:"line",children:[s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    :"}),s.jsx(i.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" 'slide-left'"}),s.jsx(i.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:" // 0"})]})]})}),`
`,s.jsxs(i.p,{children:["注释部分的数字, 相当于 ",s.jsx(i.code,{children:"Number(isMenusActiveLTR) + Number(active)"}),", 这样呢, 就可以转换为数组:"]}),`
`,s.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0","data-title":"typescript","data-lang":"ts",children:s.jsxs(i.code,{"data-line-numbers":!0,children:[s.jsxs(i.span,{className:"line",children:[s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"const"}),s.jsx(i.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" transitions"}),s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),s.jsx(i.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" MantineTransition"}),s.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"[] "}),s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" ["}),s.jsx(i.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:"'slide-left'"}),s.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(i.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:"'slide-right'"}),s.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(i.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:"'slide-left'"}),s.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"]"})]}),`
`,s.jsxs(i.span,{className:"line",children:[s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"const"}),s.jsx(i.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" transition"}),s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" ="}),s.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" transitions[("}),s.jsx(i.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Number"}),s.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(isMenusActiveLTR) "}),s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"+"}),s.jsx(i.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" Number"}),s.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(active))]"})]})]})}),`
`,s.jsx(i.p,{children:"再做一个简单转化, 最终得到:"}),`
`,s.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0","data-title":"typescript","data-lang":"ts",children:s.jsxs(i.code,{"data-line-numbers":!0,children:[s.jsxs(i.span,{className:"line",children:[s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"const"}),s.jsx(i.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" transition"}),s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" ="}),s.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" (["}),s.jsx(i.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:"'slide-left'"}),s.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(i.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:"'slide-right'"}),s.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"] "}),s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"as"}),s.jsx(i.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" MantineTransition"}),s.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"[])["})]}),`
`,s.jsxs(i.span,{className:"line",children:[s.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"  ("}),s.jsx(i.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Number"}),s.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(isMenusActiveLTR) "}),s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"+"}),s.jsx(i.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" Number"}),s.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(active)) "}),s.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"%"}),s.jsx(i.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 2"})]}),`
`,s.jsx(i.span,{className:"line",children:s.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"]"})})]})}),`
`,s.jsx(i.p,{children:"就像一个矩阵:"}),`
`,s.jsxs(i.table,{children:[s.jsx(i.thead,{children:s.jsxs(i.tr,{children:[s.jsx(i.th,{}),s.jsx(i.th,{children:"isMenusActiveLTR=true"}),s.jsx(i.th,{children:"isMenusActiveLTR=false"})]})}),s.jsxs(i.tbody,{children:[s.jsxs(i.tr,{children:[s.jsx(i.td,{children:"active=true"}),s.jsx(i.td,{children:"slide-left"}),s.jsx(i.td,{children:"slide-right"})]}),s.jsxs(i.tr,{children:[s.jsx(i.td,{children:"active=false"}),s.jsx(i.td,{children:"slide-right"}),s.jsx(i.td,{children:"slide-left"})]})]})]}),`
`,s.jsxs(i.p,{children:["集中到一个数组中, 然后通过 ",s.jsx(i.code,{children:"Number(isMenusActiveLTR) + Number(active)"})," 来索引, 最后取余, 得到最终结果"]}),`
`,s.jsxs(i.table,{children:[s.jsx(i.thead,{children:s.jsxs(i.tr,{children:[s.jsx(i.th,{children:"slide-left"}),s.jsx(i.th,{children:"slide-right"})]})}),s.jsx(i.tbody,{children:s.jsxs(i.tr,{children:[s.jsx(i.td,{children:"slide-right"}),s.jsx(i.td,{children:"slide-left"})]})})]}),`
`,s.jsx(i.p,{children:"这样, 代码就清晰了很多"}),`
`,s.jsx(n,{originLink:"https://juejin.cn/post/7385005775440199716",imgUrl:"https://images.unsplash.com/photo-1673970924038-ba262fbaa8fe?q=80&w=3870&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"})]})}function h(e={}){const{wrapper:i}={...r(),...e.components};return i?s.jsx(i,{...e,children:s.jsx(l,{...e})}):l(e)}export{h as default,c as frontmatter};
